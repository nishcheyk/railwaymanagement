{% extends 'navigation2.html' %}
{% load static %}
{% block b %}

<script>
    function printDiv() {
        var divContents = document.getElementById("mydiv").innerHTML;
        var a = window.open('', '', 'height=500, width=500');
        a.document.write('<html>');
        a.document.write('<body><h1 align=center>Happy Journey <br>');
        a.document.write(divContents);
        a.document.write('</body></html>');
        a.document.close();
        a.print();
    }
</script>

<style>
    /* General input styling */
    input[type=text], input[type=password] {
        border-radius: 8px;
        width: 100%;
        height: 35px;
        padding: 5px 10px;
        box-sizing: border-box;
        margin-bottom: 20px;
    }

    /* Styling for print view container */
    #mydiv {
        color: black;
        border: 1px solid white;
        border-radius: 8px;
        background-color: white;
        padding: 30px;
        margin: 20px auto;
        max-width: 95%;
        font-family: Arial, sans-serif;
    }

    /* Table styling */
    table {
        width: 100%;
        margin-top: 20px;
        border-collapse: collapse;
    }

    table img {
        width: 100px;
        height: 70px;
        border-radius: 5px;
    }

    table th, table td {
        padding: 12px;
        text-align: center;
        border: 1px solid #ddd;
    }

    table th {
        background-color: #333;
        color: white;
    }

    /* Print button styling */
    .print-btn {
        background-color: green;
        border-radius: 6px;
        padding: 8px 20px;
        margin-top: 20px;
        display: inline-block;
        cursor: pointer;
        text-align: center;
        border: none;
        color: white;
        font-size: 16px;
    }

    .print-btn a {
        color: white;
        text-decoration: none;
    }

    /* Styling for mobile responsiveness */
    @media (max-width: 768px) {
        #mydiv {
            padding: 15px;
        }

        table img {
            width: 80px;
            height: 60px;
        }

        .print-btn {
            width: 100%;
            text-align: center;
            font-size: 14px;
            padding: 10px;
        }
    }

    @media (max-width: 480px) {
        #mydiv {
            padding: 10px;
        }

        table img {
            width: 70px;
            height: 50px;
        }

        .print-btn {
            padding: 8px 15px;
            font-size: 14px;
        }
    }
</style>

<div id="mydiv">
    <h3><strong>Train Detail</strong></h3><hr>
    <table>
        <tr>
            <td><img src="{{book.passenger.train.img.url}}" alt="Train Image"></td>
            <td>
                <b>Train Name: {{book.passenger.train.trainname}}</b><br>
                Train Number: {{book.passenger.train.train_no}}<br>
                Travelling: {{book.route}}<br>
                Fare: {{book.passenger.fare}}<br>
            </td>
        </tr>
    </table>

    <hr><h3><strong>Passenger Detail</strong></h3><hr>

    <div class="container">
        {% for i in messages %}
            <h3 style="color:red"><strong>! {{i}}</strong></h3>
        {% endfor %}

        <table class="table table-bordered" id="myTable">
            <thead style="color:white;background-color:#333">
                <tr>
                    <th>Name</th>
                    <th>Train Name & No.</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Date</th>
                    <th>Fare</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{book.passenger.name}}</td>
                    <td>{{book.passenger.train.trainname}}. {{book.passenger.train.train_no}}</td>
                    <td>{{book.passenger.age}}</td>
                    <td>{{book.passenger.gender}}</td>
                    <td>{{book.passenger.date1}}</td>
                    <td>{{book.passenger.fare}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="print-btn" style="text-align: center;">
    <button onclick="printDiv()">
        <a href="#">Print</a>
    </button>
</div>

{% endblock %}
